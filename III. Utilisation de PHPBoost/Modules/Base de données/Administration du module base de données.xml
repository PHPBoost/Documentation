<?xml version="1.0" encoding="iso-8859-1"?>
<wiki_article>
  <wiki_id>264</wiki_id>
  <wiki_id_contents>754</wiki_id_contents>
  <wiki_title>Administration du module base de données</wiki_title>
  <wiki_encoded_title>administration-du-module-base-de-donnees</wiki_encoded_title>
  <wiki_hits>1469</wiki_hits>
  <wiki_id_cat>19</wiki_id_cat>
  <wiki_is_cat>0</wiki_is_cat>
  <wiki_defined_status>0</wiki_defined_status>
  <wiki_undefined_status></wiki_undefined_status>
  <wiki_redirect>0</wiki_redirect>
  <wiki_auth></wiki_auth>
  <wiki_cat_id>19</wiki_cat_id>
  <wiki_cat_id_parent>13</wiki_cat_id_parent>
  <wiki_cat_article_id>20</wiki_cat_article_id>
  <wiki_con_id_contents>754</wiki_con_id_contents>
  <wiki_con_id_article>264</wiki_con_id_article>
  <wiki_menu><ol class="wiki_list_1"><li><a href="#paragraph_outils-de-gestion-de-la-base-de-donnees">Outils de gestion de la base de données</a><ol class="wiki_list_2"><li><a href="#paragraph_actions-a-realiser-sur-la-selection-de-tables">Actions à réaliser sur la sélection de tables</a><ol class="wiki_list_3"><li><a href="#paragraph_sauvegarder-une-table-ou-l-ensemble-des-tables">Sauvegarder une table ou l'ensemble des tables</a></li><li><a href="#paragraph_optimisation">Optimisation</a></li><li><a href="#paragraph_reparation">Réparation</a></li></ol></li><li><a href="#paragraph_voir-la-liste-des-fichiers-disponibles">Voir la liste des fichiers disponibles</a></li><li><a href="#paragraph_restaurer-la-base-de-donnees">Restaurer la base de données</a><ol class="wiki_list_3"><li><a href="#paragraph_votre-fichier-est-dans-le-repertoire-cache-backup">Votre fichier est dans le répertoire ../cache/backup</a></li><li><a href="#paragraph_votre-fichier-est-sur-votre-disque-dur">Votre fichier est sur votre disque dur</a></li></ol></li></ol></li><li><a href="#paragraph_executer-une-requete-dans-la-base-de-donnees">Exécuter une requête dans la base de données</a></li></ol></wiki_menu>
  <wiki_activ>1</wiki_activ>
  <wiki_user_id>982</wiki_user_id>
  <wiki_user_ip>193.164.156.12</wiki_user_ip>
  <wiki_timestamp>1358180054</wiki_timestamp>
  <wiki_content>-- Outils de gestion de la base de données --

[align=center][img]http://resources.phpboost.com/documentation/utilisation/modules/database/home.png[/img][/align]

--- Actions à réaliser sur la sélection de tables ---

[align=center][img]http://resources.phpboost.com/documentation/utilisation/modules/database/actions.png[/img][/align]

---- Sauvegarder une table ou l'ensemble des tables ----

[style=warning]Il est important de sauvegarder régulièrement sa base de données afin de ne pas perdre ses données en cas de plantage de serveur, hacking de son site, etc...[/style]

Cliquez sur 'SAUVEGARDER' en bas de la page sous les tables, vous allez être dirigé vers la page de sauvegarde. 

[align=center][img]http://resources.phpboost.com/documentation/utilisation/modules/database/export.png[/img][/align]

Sélectionnez l'ensemble des tables si vous désirez une sauvegarde complète de votre base de données, ou uniquement les tables désirées.

Cochez selon ce que vous désirez sauvegarder soit : 

[list]
[*] Données et structure
[*] Données : contenu de la base de données.
[*] Structure de la base de données
[/list]

[style=notice]Il est recommandé de sauvegarder 'Données et structure'[/style]

Cliquez sur sauvegarder, votre copie sera enregistrée dans le répertoire de votre ftp : ../cache/backup

Vous êtes alors redirigé vers l'accueil de l'administration de la base de données avec un lien pour télécharger votre sauvegarde : 

[align=center][img]http://resources.phpboost.com/documentation/utilisation/modules/database/success_export.png[/img][/align]

---- Optimisation ----

L'optimisation de la base de données permet de réorganiser la structure de la table afin de faciliter les opérations au serveur SQL. Cette opération est effectuée automatiquement sur chaque table une fois par jour. Vous pouvez optimiser les tables manuellement via ce panneau d'administration.

Si l'on effectue beaucoup de modifications sur une base de données, il peut parfois rester des petites erreurs et l'optimisation permet de les supprimer. 

Sélectionnez les tables que vous souhaitez optimiser puis cliquez sur 'Optimiser' en bas. 

---- Réparation ----

La réparation n'est normalement pas à envisager mais en cas de problème elle peut s'avérer utile. Le support vous dira de l'effectuer quand cela sera nécessaire. 

[style=warning]Attention : C'est une opération lourde, elle consomme beaucoup de ressources, il est donc conseillé d'éviter de réparer les tables si ce n'est pas utile ![/style]

Sélectionnez les tables que vous souhaitez réparer puis cliquez sur 'Réparer' en bas. 

--- Voir la liste des fichiers disponibles ---

Une fois que vous avez créé une ou plusieurs sauvegardes, vous pouvez les voir : 

[list]
[*] sur votre FTP dans le répertoire : ../cache/backup
[*] via le pannel administration, cliquez sur 'Voir la liste des fichiers disponibles (cache/backup)' 

[align=center][img]http://resources.phpboost.com/documentation/utilisation/modules/database/restore_upload.png[/img][/align]
ce qui vous envoie à la page : 
[align=center][img]http://resources.phpboost.com/documentation/utilisation/modules/database/available_files.png[/img][/align]
[/list]

[style=notice]Vous pouvez ici supprimer les vieilles sauvegardes si vous désirez ne pas les garder.[/style]

--- Restaurer la base de données ---

---- Votre fichier est dans le répertoire ../cache/backup ----

Allez dans 'Voir la liste des fichiers disponibles'

[align=center][img]http://resources.phpboost.com/documentation/utilisation/modules/database/available_files.png[/img][/align]

Cliquez sur la sauvegarde que vous souhaitez restaurer.

Un message en popup apparaît vous signalant : 

[style=warning]Etes-vous sûr de vouloir restaurer votre base de données à partir de la sauvegarde sélectionnée ?[/style]

Cliquez sur OK. La base de donnée va se restaurer.

---- Votre fichier est sur votre disque dur ----

[align=center][img]http://resources.phpboost.com/documentation/utilisation/modules/database/restore_upload.png[/img][/align]

Vous allez l'uploader sur votre serveur dans le répertoire ../backup/cache/ via 'parcourir', sélectionnez le fichier sur votre disque dur, puis cliquez sur 'restaurer'. La restauration de votre sauvegarde se fera automatiquement.

-- Exécuter une requête dans la base de données --

[style=warning]N'utilisez cette fonction que si un des membre du support vous le demande ou si vous savez ce que vous faites ! Si cette requête n'a pas été proposée par le support, vous êtes responsable de son exécution et des pertes de données qu'elle pourrait provoquer. Il est donc fortement déconseillé d'utiliser cette option si vous ne maîtrisez pas complètement la structure des tables de PHPBoost.[/style]

[align=center][img]http://resources.phpboost.com/documentation/utilisation/modules/database/request.png[/img][/align]

Mettez dans le cadre votre requête et cliquez sur 'exécution'.</wiki_content>
</wiki_article>